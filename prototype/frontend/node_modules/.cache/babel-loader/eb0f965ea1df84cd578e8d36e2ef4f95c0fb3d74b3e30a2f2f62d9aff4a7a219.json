{"ast":null,"code":"var _jsxFileName = \"/Users/acetyl/Desktop/CS411/CS411/prototype/frontend/src/pages/Main.jsx\",\n  _s = $RefreshSig$();\nimport \"../App.css\";\nimport { motion } from \"framer-motion\";\nimport MyImage from \"../character.PNG\";\nimport axios from \"axios\";\nimport { useState, useEffect, React } from \"react\";\nimport \"@arco-design/web-react/dist/css/arco.css\";\nimport { Link } from \"react-router-dom\";\nimport { GoogleOAuthProvider, GoogleLogin, googleLogout } from '@react-oauth/google';\nimport jwt_decode from \"jwt-decode\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction MainPage() {\n  _s();\n  const [profile, setProfile] = useState([]);\n  var id = localStorage.getItem(\"user\");\n  const [Id, setId] = useState('null/');\n  useEffect(() => {\n    googleLogout();\n    setId(id);\n  });\n  const getData = async () => {\n    await axios.get(\"http://localhost:8000/api/userinfo/\" + Id).then(response => {}).catch(err => {\n      post();\n    });\n  };\n  const post = async () => {\n    await axios.post('http://localhost:8000/api/userinfo/', {\n      id: profile.replace('.', ''),\n      user_email: profile,\n      location: \"02215\",\n      weather: \"We can't update your weather without your location. Give it to us please\",\n      news: \"We can't update your news without your location. Give it to us please\",\n      color: \"We can't update your color without you updating your color. Give it to us please\"\n    }).then(function (response) {\n      console.log(response);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n  const put = async () => {\n    await axios.put('http://localhost:8000/api/userinfo/' + Id, {\n      user_email: profile,\n      location: \"02215\"\n    }).then(function (response) {\n      console.log(response);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n  const weather = {\n    name: 'Weather'\n  };\n  const news = {\n    name: 'News'\n  };\n  const styles = {\n    background: \"#2596be\",\n    borderRadius: 30,\n    width: 150,\n    padding: \"10px 20px\",\n    margin: \"auto\",\n    color: \"#F7F7F0\",\n    outline: \"#F7F7F0\",\n    border: \"10px\",\n    cursor: \"pointer\"\n  };\n  const logoutstyles = {\n    background: \"#ffffff\",\n    borderRadius: 0,\n    width: 200,\n    padding: \"10px 20px\",\n    margin: \"auto\",\n    color: \"#424242\",\n    outline: \"none\",\n    border: \"1px solid #dbdbdb\",\n    cursor: \"pointer\"\n  };\n  const Refresh = _ref => {\n    let {\n      type\n    } = _ref;\n    return /*#__PURE__*/_jsxDEV(motion.button, {\n      style: styles,\n      whileHover: {\n        scale: 1.1\n      },\n      whileTap: {\n        scale: 0.9\n      },\n      children: type.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 5\n    }, this);\n  };\n  const charstyles = {\n    background: \"00\",\n    borderRadius: 40,\n    width: 250,\n    padding: \"0px 0px\",\n    margin: \"auto\",\n    color: \"#00\",\n    outline: \"none\",\n    border: \"none\",\n    cursor: \"pointer\"\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      background: '#f2f9ff'\n    },\n    children: [/*#__PURE__*/_jsxDEV(GoogleOAuthProvider, {\n      clientId: \"135338852525-uodc4vsi2aucfl9lpnau5i32h98efmrd.apps.googleusercontent.com\",\n      children: [/*#__PURE__*/_jsxDEV(GoogleLogin, {\n        onSuccess: credentialResponse => {\n          console.log(credentialResponse);\n          setProfile(String(jwt_decode(credentialResponse.credential).email));\n          localStorage.setItem(\"user\", jwt_decode(credentialResponse.credential).email.replace('.', '') + \"/\");\n          setId(jwt_decode(credentialResponse.credential).email.replace('.', ''));\n          getData();\n        },\n        onError: () => {\n          console.log('Login Failed');\n          localStorage.setItem(\"user\", \"null/\");\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(motion.button, {\n        onClick: credentialResponse => {\n          googleLogout();\n          localStorage.setItem(\"user\", \"null/\");\n          setId(\"null/\");\n        },\n        style: logoutstyles,\n        whileHover: {\n          opacity: 0.5\n        },\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        background: '#f2f9ff'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/weather\",\n        children: /*#__PURE__*/_jsxDEV(Refresh, {\n          type: weather,\n          onClick: put\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/interact\",\n        children: /*#__PURE__*/_jsxDEV(motion.button, {\n          style: charstyles,\n          whileHover: {\n            scale: 1.05\n          },\n          whileTap: {\n            scale: 0.95\n          },\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: MyImage,\n            className: \"App-logo\",\n            alt: \"logo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/news\",\n        children: /*#__PURE__*/_jsxDEV(Refresh, {\n          type: news,\n          onClick: put\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        background: '#f2f9ff'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 5\n  }, this);\n}\n_s(MainPage, \"FGLvwPLddcfx97Cta6hPxeCSaY8=\");\n_c = MainPage;\nexport default MainPage;\nvar _c;\n$RefreshReg$(_c, \"MainPage\");","map":{"version":3,"names":["motion","MyImage","axios","useState","useEffect","React","Link","GoogleOAuthProvider","GoogleLogin","googleLogout","jwt_decode","MainPage","profile","setProfile","id","localStorage","getItem","Id","setId","getData","get","then","response","catch","err","post","replace","user_email","location","weather","news","color","console","log","error","put","name","styles","background","borderRadius","width","padding","margin","outline","border","cursor","logoutstyles","Refresh","type","scale","charstyles","justifyContent","alignItems","credentialResponse","String","credential","email","setItem","opacity","display"],"sources":["/Users/acetyl/Desktop/CS411/CS411/prototype/frontend/src/pages/Main.jsx"],"sourcesContent":["import \"../App.css\";\nimport { motion } from \"framer-motion\";\nimport MyImage from \"../character.PNG\";\nimport axios from \"axios\";\nimport { useState, useEffect, React} from \"react\";\nimport \"@arco-design/web-react/dist/css/arco.css\";\nimport { Link } from \"react-router-dom\";\nimport { GoogleOAuthProvider, GoogleLogin, googleLogout} from '@react-oauth/google';\nimport jwt_decode from \"jwt-decode\"\n\nfunction MainPage() {\n  const [profile, setProfile ] = useState([]);\n  var id = localStorage.getItem(\"user\");\n  const [Id, setId] = useState('null/')\n\n  useEffect(() => {\n    googleLogout()\n    setId(id)\n  })\n\n  const getData = async () => {\n    await axios.get(\"http://localhost:8000/api/userinfo/\" + Id).then(\n      (response) => {\n      }).catch(err => {\n        post()\n      })\n  }\n  const post = async () =>  {\n    await axios.post('http://localhost:8000/api/userinfo/', {\n      id: profile.replace('.',''),\n      user_email: profile,\n      location: \"02215\",\n      weather: \"We can't update your weather without your location. Give it to us please\",\n      news: \"We can't update your news without your location. Give it to us please\",\n      color: \"We can't update your color without you updating your color. Give it to us please\"\n  })\n    .then(function (response) {\n    console.log(response);\n    })\n    .catch(function (error) {\n    console.log(error);\n   });\n  }\n\n  const put = async () =>  {\n    await axios.put('http://localhost:8000/api/userinfo/' + Id, {\n      user_email: profile,\n      location: \"02215\",\n  })\n    .then(function (response) {\n    console.log(response);\n    })\n    .catch(function (error) {\n    console.log(error);\n   });\n  }\n\n  const weather = {\n    name: 'Weather',\n  }\n  const news = {\n    name: 'News',\n  }\n  \n  const styles = {\n    background: \"#2596be\",\n    borderRadius: 30,\n    width: 150,\n    padding: \"10px 20px\",\n    margin: \"auto\",\n    color: \"#F7F7F0\",\n    outline: \"#F7F7F0\",\n    border: \"10px\",\n    cursor: \"pointer\"\n  };\n\n  const logoutstyles = {\n    background: \"#ffffff\",\n    borderRadius: 0,\n    width: 200,\n    padding: \"10px 20px\",\n    margin: \"auto\",\n    color: \"#424242\",\n    outline: \"none\",\n    border: \"1px solid #dbdbdb\",\n    cursor: \"pointer\"\n  }\n\n  const Refresh = ({type}) => (\n    <motion.button\n      style={styles}\n      whileHover={{ scale: 1.1 }}\n      whileTap={{ scale: 0.9}}\n    >\n      {type.name}\n    </motion.button>\n  );\n\n  const charstyles = {\n    background: \"00\",\n    borderRadius: 40,\n    width: 250,\n    padding: \"0px 0px\",\n    margin: \"auto\",\n    color: \"#00\",\n    outline: \"none\",\n    border: \"none\",\n    cursor: \"pointer\"\n  }\n  return (\n    <div style={{\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      background: '#f2f9ff'\n    }}>\n    <GoogleOAuthProvider clientId='135338852525-uodc4vsi2aucfl9lpnau5i32h98efmrd.apps.googleusercontent.com'>\n    <GoogleLogin\n    onSuccess={credentialResponse => {\n      console.log(credentialResponse);\n      setProfile(String((jwt_decode(credentialResponse.credential)).email));\n      localStorage.setItem(\"user\", ((jwt_decode(credentialResponse.credential)).email).replace('.','') + \"/\");\n      setId(((jwt_decode(credentialResponse.credential)).email).replace('.',''));\n      getData();\n    }}\n    onError={() => {\n      console.log('Login Failed');\n      localStorage.setItem(\"user\", \"null/\")\n    }}\n  />\n    <motion.button \n      onClick= {credentialResponse => {googleLogout(); \n        localStorage.setItem(\"user\", \"null/\")\n        setId(\"null/\") }}\n      style = {logoutstyles}\n      whileHover={{opacity: 0.5 }}\n      >\n        Logout\n    </motion.button>\n    </GoogleOAuthProvider>\n    <div\n        style={{\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          background: '#f2f9ff'\n        }}\n      >\n      <Link to=\"/weather\" >\n      <Refresh\n        type = {weather}\n        onClick = {put}>\n      </Refresh>\n      </Link>\n      <Link to=\"/interact\" >\n      <motion.button style={charstyles}\n          whileHover={{ scale: 1.05 }}\n          whileTap={{ scale: 0.95}}\n          >\n        <img src={MyImage} className=\"App-logo\" alt=\"logo\" />\n      </motion.button>\n      </Link>\n      <Link to=\"/news\" >\n      <Refresh \n        type = {news}\n        onClick = {put}>\n      </Refresh>\n      </Link>\n    </div>\n    <p style={{\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          background: '#f2f9ff'\n        }}></p>\n    </div>\n    );\n  }\n\nexport default MainPage;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}