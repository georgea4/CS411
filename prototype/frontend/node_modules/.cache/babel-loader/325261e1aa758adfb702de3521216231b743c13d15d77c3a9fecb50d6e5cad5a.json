{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nimport React, { PureComponent } from 'react';\nimport { findDOMNode } from 'react-dom';\nimport { CSSTransition } from 'react-transition-group';\nimport ResizeObserverPolyfill from 'resize-observer-polyfill';\nimport { on, off, contains, getScrollElements } from '../_util/dom';\nimport { isFunction } from '../_util/is';\nimport { pickDataAttributes } from '../_util/pick';\nimport { Esc } from '../_util/keycode';\nimport Portal from './portal';\nimport ResizeObserver from '../_util/resizeObserver';\nimport cs from '../_util/classNames';\nimport { ConfigContext } from '../ConfigProvider';\nimport getStyle from './getPopupStyle';\nimport throttleByRaf from '../_util/throttleByRaf';\nimport { raf, caf } from '../_util/raf';\nimport mergeProps from '../_util/mergeProps';\nfunction getDOMPos(dom) {\n  if (!dom) {\n    return {};\n  }\n  var _a = dom.getBoundingClientRect(),\n    width = _a.width,\n    height = _a.height,\n    left = _a.left,\n    right = _a.right;\n  return {\n    width: width,\n    height: height,\n    left: left,\n    right: right\n  };\n}\nexport var EventsByTriggerNeed = ['onClick', 'onMouseEnter', 'onMouseLeave', 'onMouseMove', 'onFocus', 'onBlur', 'onContextMenu', 'onKeyDown'];\nfunction splitChildrenStyle(obj, keys) {\n  var picked = {};\n  var omitted = __assign({}, obj);\n  keys.forEach(function (key) {\n    if (obj && key in obj) {\n      picked[key] = obj[key];\n      delete omitted[key];\n    }\n  });\n  return {\n    picked: picked,\n    omitted: omitted\n  };\n}\nvar defaultProps = {\n  blurToHide: true,\n  clickToClose: true,\n  classNames: 'fadeIn',\n  trigger: 'hover',\n  position: 'bottom',\n  duration: 200,\n  unmountOnExit: true,\n  popupAlign: {},\n  popupHoverStay: true,\n  clickOutsideToClose: true,\n  escToClose: false,\n  mouseLeaveToClose: true,\n  containerScrollToClose: false,\n  getDocument: function () {\n    return window.document;\n  },\n  autoFixPosition: true,\n  mouseEnterDelay: 100,\n  mouseLeaveDelay: 100,\n  autoFitPosition: true\n};\nvar Trigger = /** @class */function (_super) {\n  __extends(Trigger, _super);\n  function Trigger(props, context) {\n    var _this = _super.call(this, props, context) || this;\n    _this.delayTimer = null;\n    _this.updatePositionTimer = null;\n    // is popup open?\n    _this.popupOpen = false;\n    // if mousedown to hide popup, ignore onFocus\n    _this.mousedownToHide = false;\n    _this.hasPopupMouseDown = false;\n    _this.unmount = false;\n    _this.isDidMount = false;\n    // 保存鼠标的位置\n    _this.mouseLocation = {\n      clientX: 0,\n      clientY: 0\n    };\n    // 保存当前的mount container dom元素\n    _this.observerContainer = null;\n    // 保存当前节点到 popupContainer 间的所有滚动元素\n    _this.scrollElements = null;\n    // container 触发 resize时执行\n    _this.resizeObserver = new ResizeObserverPolyfill(function () {\n      _this.handleUpdatePosition();\n    });\n    _this.childrenDom = null;\n    // 保存children节点的尺寸。 主要用于在弹出层动画前和动画完成后比较尺寸是否有变化。\n    _this.childrenDomSize = {};\n    _this.getMergedProps = function (baseProps) {\n      var componentConfig = _this.context.componentConfig;\n      var props = mergeProps(baseProps || _this.props, defaultProps, componentConfig === null || componentConfig === void 0 ? void 0 : componentConfig.Trigger);\n      return props;\n    };\n    _this.getRootElement = function () {\n      _this.childrenDom = findDOMNode(_this);\n      return _this.childrenDom;\n    };\n    _this.offScrollListeners = function () {\n      (_this.scrollElements || []).forEach(function (item) {\n        off(item, 'scroll', _this.handleScroll);\n      });\n      _this.scrollElements = null;\n    };\n    _this.offWindowResize = function () {\n      _this.handleWindowResize = false;\n      off(window, 'resize', _this.handleUpdatePosition);\n    };\n    _this.offContainerResize = function () {\n      if (_this.resizeObserver && _this.observerContainer) {\n        _this.resizeObserver.unobserve(_this.observerContainer);\n        _this.observerContainer = null;\n      }\n    };\n    _this.handleScroll = function () {\n      var currentProps = _this.getMergedProps();\n      if (currentProps.containerScrollToClose) {\n        _this.setPopupVisible(false);\n      } else if (currentProps.updateOnScroll) {\n        _this.handleUpdatePosition();\n      }\n    };\n    _this.onContainersScroll = function () {\n      var _a;\n      if (_this.scrollElements) {\n        return;\n      }\n      _this.scrollElements = getScrollElements(_this.childrenDom, (_a = _this.popupContainer) === null || _a === void 0 ? void 0 : _a.parentNode);\n      _this.scrollElements.forEach(function (item) {\n        on(item, 'scroll', _this.handleScroll);\n      });\n    };\n    _this.onContainerResize = function () {\n      var _a;\n      // containerParent 相当于是通过getPopupContainer传入的节点\n      // 因为 this.popupContainer 会被挂载到getPopupContainer返回的节点上\n      var containerParent = (_a = _this.popupContainer) === null || _a === void 0 ? void 0 : _a.parentNode;\n      if (_this.resizeObserver && _this.observerContainer !== containerParent) {\n        // 说明containerParent变了，取消之前的监听，监听新的container\n        _this.offContainerResize();\n        containerParent && _this.resizeObserver.observe(containerParent);\n        _this.observerContainer = containerParent;\n      }\n    };\n    // getPopupContainer 改变时候触发\n    _this.handleUpdatePosition = throttleByRaf(function () {\n      _this.updatePopupPosition();\n    });\n    _this.isClickTrigger = function () {\n      var trigger = _this.getMergedProps().trigger;\n      return [].concat(trigger).indexOf('click') > -1;\n    };\n    _this.isFocusTrigger = function () {\n      var trigger = _this.getMergedProps().trigger;\n      return [].concat(trigger).indexOf('focus') > -1;\n    };\n    _this.isHoverTrigger = function () {\n      var trigger = _this.getMergedProps().trigger;\n      return [].concat(trigger).indexOf('hover') > -1;\n    };\n    _this.isContextMenuTrigger = function () {\n      var trigger = _this.getMergedProps().trigger;\n      return [].concat(trigger).indexOf('contextMenu') > -1;\n    };\n    // 是否在鼠标移出触发节点和popup的时候隐藏弹出层\n    _this.isMouseLeaveToClose = function () {\n      return _this.isHoverTrigger() && _this.getMergedProps().mouseLeaveToClose;\n    };\n    // 是否在悬浮到popup的时候隐藏弹出层\n    _this.isPopupHoverHide = function () {\n      return _this.isHoverTrigger() && !_this.getMergedProps().popupHoverStay;\n    };\n    _this.isClickToHide = function () {\n      return (_this.isClickTrigger() || _this.isContextMenuTrigger()) && _this.getMergedProps().clickToClose;\n    };\n    _this.isBlurToHide = function () {\n      return _this.isFocusTrigger() && _this.getMergedProps().blurToHide;\n    };\n    _this.clearTimer = function () {\n      if (_this.updatePositionTimer) {\n        if (_this.updatePositionTimer.cancel) {\n          _this.updatePositionTimer.cancel();\n        } else {\n          clearTimeout(_this.updatePositionTimer);\n          _this.updatePositionTimer = null;\n        }\n      }\n      if (_this.delayTimer) {\n        clearTimeout(_this.delayTimer);\n        _this.delayTimer = null;\n      }\n      if (_this.mouseDownTimeout) {\n        clearTimeout(_this.mouseDownTimeout);\n        _this.mouseDownTimeout = null;\n      }\n    };\n    _this.offClickOutside = function () {\n      if (_this.handleClickOutside) {\n        var getDocument = _this.getMergedProps().getDocument;\n        var root = isFunction(getDocument) && getDocument();\n        off(root, 'mousedown', _this.onClickOutside);\n        _this.handleClickOutside = false;\n      }\n    };\n    _this.getTransformOrigin = function (position) {\n      var _a, _b;\n      var content = _this.triggerRef;\n      if (!content) return {};\n      var _c = _this.getMergedProps(),\n        showArrow = _c.showArrow,\n        classNames = _c.classNames;\n      var top = showArrow && ((_a = _this.arrowStyle) === null || _a === void 0 ? void 0 : _a.top) || 0;\n      var left = showArrow && ((_b = _this.arrowStyle) === null || _b === void 0 ? void 0 : _b.left) || 0;\n      top = top ? top + \"px\" : '';\n      left = left ? left + \"px\" : '';\n      var transformOrigin = {\n        top: (left || '50%') + \" 100% 0\",\n        tl: (left || '15px') + \" 100% 0\",\n        tr: (left || content.clientWidth - 15 + \"px\") + \" 100% 0\",\n        bottom: (left || '50%') + \" 0 0\",\n        bl: (left || '15px') + \" 0 0\",\n        br: (left || content.clientWidth - 15 + \"px\") + \" 0 0\",\n        left: \"100% \" + (top || '50%') + \" 0\",\n        lt: \"100% \" + (top || '15px') + \" 0\",\n        lb: \"100% \" + (top || content.clientHeight - 15 + \"px\") + \" 0\",\n        right: \"0 \" + (top || '50%') + \" 0\",\n        rt: \"0 \" + (top || '15px') + \" 0\",\n        rb: \"0 \" + (top || content.clientHeight - 15 + \"px\") + \" 0\"\n      };\n      // tooltip popover popconfirm\n      if (classNames && classNames.indexOf('zoom') > -1) {\n        return {\n          transformOrigin: transformOrigin[position]\n        };\n      }\n      if (classNames === 'slideDynamicOrigin') {\n        var origin_1 = '0% 0%';\n        if (['top', 'tl', 'tr'].indexOf(position) > -1) {\n          origin_1 = '100% 100%';\n        }\n        return {\n          transformOrigin: origin_1\n        };\n      }\n      return {};\n    };\n    // 下拉框存在初始translateY/translateX，需要根据真实的弹出位置确定\n    _this.getTransformTranslate = function () {\n      if (_this.getMergedProps().classNames !== 'slideDynamicOrigin') {\n        return '';\n      }\n      switch (_this.realPosition) {\n        case 'bottom':\n        case 'bl':\n        case 'br':\n          return 'scaleY(0.9) translateY(-4px)';\n        case 'top':\n        case 'tl':\n        case 'tr':\n          return 'scaleY(0.9) translateY(4px)';\n        default:\n          return '';\n      }\n    };\n    _this.getPopupStyle = function () {\n      if (_this.unmount || !_this.popupContainer) {\n        return;\n      }\n      var mountContainer = _this.popupContainer;\n      var content = _this.triggerRef;\n      var child = _this.getRootElement();\n      var _a = getStyle(_this.getMergedProps(), content, child, mountContainer, _this.mouseLocation),\n        style = _a.style,\n        arrowStyle = _a.arrowStyle,\n        realPosition = _a.realPosition;\n      _this.realPosition = realPosition || _this.getMergedProps().position;\n      _this.arrowStyle = arrowStyle || {};\n      return __assign(__assign({}, style), _this.getTransformOrigin(_this.realPosition));\n    };\n    _this.showPopup = function (callback) {\n      if (callback === void 0) {\n        callback = function () {};\n      }\n      var popupStyle = _this.getPopupStyle();\n      _this.setState({\n        popupStyle: popupStyle\n      }, callback);\n    };\n    _this.update = throttleByRaf(function (callback) {\n      if (_this.unmount || !_this.state.popupVisible) {\n        return;\n      }\n      var popupStyle = _this.getPopupStyle();\n      _this.setState({\n        popupStyle: popupStyle\n      }, function () {\n        callback && callback();\n      });\n    });\n    _this.updatePopupPosition = function (delay, callback) {\n      if (delay === void 0) {\n        delay = 0;\n      }\n      var currentVisible = _this.state.popupVisible;\n      if (!currentVisible) {\n        return;\n      }\n      if (delay < 4) {\n        _this.updatePositionTimer = _this.update(callback);\n        return;\n      }\n      _this.updatePositionTimer = setTimeout(function () {\n        var popupStyle = _this.getPopupStyle();\n        _this.setState({\n          popupStyle: popupStyle\n        }, function () {\n          callback && callback();\n        });\n      }, delay);\n    };\n    _this.setPopupVisible = function (visible, delay, callback) {\n      if (delay === void 0) {\n        delay = 0;\n      }\n      var mergedProps = _this.getMergedProps();\n      var onVisibleChange = mergedProps.onVisibleChange;\n      var currentVisible = _this.state.popupVisible;\n      if (visible !== currentVisible) {\n        _this.delayToDo(delay, function () {\n          onVisibleChange && onVisibleChange(visible);\n          if (!('popupVisible' in mergedProps)) {\n            if (visible) {\n              _this.setState({\n                popupVisible: true\n              }, function () {\n                _this.showPopup(callback);\n              });\n            } else {\n              _this.setState({\n                popupVisible: false\n              }, function () {\n                callback && callback();\n              });\n            }\n          } else {\n            callback && callback();\n          }\n        });\n      } else {\n        callback && callback();\n      }\n    };\n    _this.delayToDo = function (delay, callback) {\n      if (delay) {\n        _this.clearDelayTimer();\n        _this.delayTimer = setTimeout(function () {\n          callback();\n          _this.clearDelayTimer();\n        }, delay);\n      } else {\n        callback();\n      }\n    };\n    // 点击非popup内部，非children内部的节点，触发clickoutside 逻辑\n    _this.onClickOutside = function (e) {\n      var _a = _this.getMergedProps(),\n        onClickOutside = _a.onClickOutside,\n        clickOutsideToClose = _a.clickOutsideToClose;\n      var triggerNode = _this.triggerRef;\n      var childrenDom = _this.getRootElement();\n      if (!contains(triggerNode, e.target) && !contains(childrenDom, e.target) && !_this.hasPopupMouseDown) {\n        onClickOutside && onClickOutside();\n        if (clickOutsideToClose) {\n          // 以下判断条件避免onVisibleChange触发两次\n          // blurToHide 为true时不需要执行，因为onBlur里会执行setPopupVisible\n          // hover 触发方式，不执行以下逻辑。因为mouseLeave里会执行setPopupVisible\n          if (!_this.isBlurToHide() && !_this.isHoverTrigger()) {\n            _this.setPopupVisible(false);\n          }\n        }\n      }\n    };\n    _this.onKeyDown = function (e) {\n      var keyCode = e.keyCode || e.which;\n      _this.triggerPropsEvent('onKeyDown', e);\n      if (keyCode === Esc.code) {\n        _this.onPressEsc(e);\n      }\n    };\n    _this.onPressEsc = function (e) {\n      var escToClose = _this.getMergedProps().escToClose;\n      if (escToClose && e && e.key === Esc.key && _this.state.popupVisible) {\n        _this.setPopupVisible(false);\n      }\n    };\n    _this.onMouseEnter = function (e) {\n      var mouseEnterDelay = _this.getMergedProps().mouseEnterDelay;\n      _this.triggerPropsEvent('onMouseEnter', e);\n      _this.clearDelayTimer();\n      _this.setPopupVisible(true, mouseEnterDelay || 0);\n    };\n    _this.onMouseMove = function (e) {\n      _this.triggerPropsEvent('onMouseMove', e);\n      _this.setMouseLocation(e);\n      if (_this.state.popupVisible) {\n        _this.update();\n      }\n    };\n    _this.onMouseLeave = function (e) {\n      var mouseLeaveDelay = _this.getMergedProps().mouseLeaveDelay;\n      _this.clearDelayTimer();\n      _this.triggerPropsEvent('onMouseLeave', e);\n      if (_this.isMouseLeaveToClose()) {\n        if (_this.state.popupVisible) {\n          _this.setPopupVisible(false, mouseLeaveDelay || 0);\n        }\n      }\n    };\n    _this.onPopupMouseEnter = function () {\n      _this.clearDelayTimer();\n    };\n    _this.onPopupMouseLeave = function (e) {\n      _this.onMouseLeave(e);\n    };\n    _this.setMouseLocation = function (e) {\n      if (_this.getMergedProps().alignPoint) {\n        _this.mouseLocation = {\n          clientX: e.clientX,\n          clientY: e.clientY\n        };\n      }\n    };\n    _this.onContextMenu = function (e) {\n      e.preventDefault();\n      _this.triggerPropsEvent('onContextMenu', e);\n      _this.setMouseLocation(e);\n      if (!_this.state.popupVisible) {\n        _this.setPopupVisible(true, 0);\n      } else {\n        // 更新位置\n        _this.getMergedProps().alignPoint && _this.update();\n      }\n    };\n    _this.hideContextMenu = function (e) {\n      var popupVisible = _this.state.popupVisible;\n      if (popupVisible) {\n        _this.mousedownToHide = true;\n      }\n      _this.triggerPropsEvent('onClick', e);\n      if (_this.isClickToHide() && popupVisible) {\n        _this.setPopupVisible(!popupVisible, 0);\n      }\n    };\n    _this.onClick = function (e) {\n      var popupVisible = _this.state.popupVisible;\n      if (popupVisible) {\n        _this.mousedownToHide = true;\n      }\n      _this.triggerPropsEvent('onClick', e);\n      _this.setMouseLocation(e);\n      if (!_this.isClickToHide() && popupVisible) {\n        return;\n      }\n      _this.setPopupVisible(!popupVisible, 0);\n    };\n    _this.onFocus = function (e) {\n      var focusDelay = _this.getMergedProps().focusDelay;\n      var onFocus = function () {\n        _this.triggerPropsEvent('onFocus', e);\n      };\n      _this.clearDelayTimer();\n      if (!_this.mousedownToHide) {\n        if (_this.state.popupVisible) {\n          onFocus && onFocus();\n        } else {\n          _this.setPopupVisible(true, focusDelay || 0, onFocus);\n        }\n      }\n      _this.mousedownToHide = false;\n    };\n    _this.onBlur = function (e) {\n      _this.setPopupVisible(false, 200, function () {\n        return _this.triggerPropsEvent('onBlur', e);\n      });\n    };\n    _this.onResize = function () {\n      if (_this.getMergedProps().autoFixPosition && _this.state.popupVisible) {\n        _this.updatePopupPosition();\n      }\n    };\n    _this.onPopupMouseDown = function () {\n      _this.hasPopupMouseDown = true;\n      clearTimeout(_this.mouseDownTimeout);\n      _this.mouseDownTimeout = setTimeout(function () {\n        _this.hasPopupMouseDown = false;\n      }, 0);\n    };\n    // 当 children 中的元素 disabled 时，不能正确触发 hover 等事件，所以当监测到对应\n    // 组件有 disabled 时，给元素加一层 span，处理事件，模拟样式\n    _this.getChild = function () {\n      var children = _this.props.children;\n      var element = children;\n      var elementType = element && typeof element !== 'string' && element.type;\n      var child = children;\n      if (['string', 'number'].indexOf(typeof children) > -1 || React.Children.count(children) > 1) {\n        child = React.createElement(\"span\", null, children);\n      } else if (element && elementType && (elementType.__BYTE_BUTTON === true || elementType.__BYTE_CHECKBOX === true || elementType.__BYTE_SWITCH === true || elementType.__BYTE_RADIO === true || elementType === 'button') && element.props.disabled) {\n        // 从样式中提取出会影响布局的到上层 span 样式中。\n        var _a = splitChildrenStyle(element.props.style, ['position', 'left', 'right', 'top', 'bottom', 'float', 'display', 'zIndex']),\n          picked = _a.picked,\n          omitted = _a.omitted;\n        child = React.createElement(\"span\", {\n          className: element.props.className,\n          style: __assign(__assign({\n            display: 'inline-block'\n          }, picked), {\n            cursor: 'not-allowed'\n          })\n        }, React.cloneElement(element, {\n          style: __assign(__assign({}, omitted), {\n            pointerEvents: 'none'\n          }),\n          className: undefined\n        }));\n      }\n      // 防止为空报错\n      return child || React.createElement(\"span\", null);\n    };\n    // 创建的dom节点插入getPopupContainer。\n    _this.appendToContainer = function (node) {\n      caf(_this.rafId);\n      if (_this.isDidMount) {\n        var getGlobalPopupContainer = _this.context.getPopupContainer;\n        var getPopupContainer = _this.getMergedProps().getPopupContainer;\n        var gpc = getPopupContainer || getGlobalPopupContainer;\n        var rootElement = _this.getRootElement();\n        var parent_1 = gpc(rootElement);\n        if (parent_1) {\n          parent_1.appendChild(node);\n          return;\n        }\n      }\n      _this.rafId = raf(function () {\n        _this.appendToContainer(node);\n      });\n    };\n    _this.getContainer = function () {\n      var popupContainer = document.createElement('div');\n      popupContainer.style.width = '100%';\n      popupContainer.style.position = 'absolute';\n      popupContainer.style.top = '0';\n      popupContainer.style.left = '0';\n      _this.popupContainer = popupContainer;\n      _this.appendToContainer(popupContainer);\n      return popupContainer;\n    };\n    // 1. 触发直接附加到 Trigger 上的事件，大多是Trigger直接嵌套Trigger的情况\n    // 2. 触发children上直接被附加的事件\n    _this.triggerPropsEvent = function (eventName, e) {\n      var child = _this.getChild();\n      var childHandler = child && child.props && child.props[eventName];\n      var props = _this.getMergedProps();\n      if (isFunction(childHandler)) {\n        childHandler(e);\n      }\n      if (isFunction(props[eventName])) {\n        props[eventName](e);\n      }\n    };\n    // 触发 children/ trigger 组件上被附加的事件\n    _this.triggerOriginEvent = function (eventName) {\n      var child = _this.getChild();\n      var childHandler = child && child.props && child.props[eventName];\n      var propsHandler = _this.getMergedProps()[eventName];\n      if (isFunction(propsHandler) && isFunction(childHandler)) {\n        return function (e) {\n          childHandler(e);\n          propsHandler(e);\n        };\n      }\n      return childHandler || propsHandler;\n    };\n    var mergedProps = _this.getMergedProps(props);\n    var popupVisible = 'popupVisible' in mergedProps ? mergedProps.popupVisible : mergedProps.defaultPopupVisible;\n    _this.popupOpen = !!popupVisible;\n    _this.state = {\n      popupVisible: !!popupVisible,\n      popupStyle: {}\n    };\n    return _this;\n  }\n  Trigger.getDerivedStateFromProps = function (nextProps, state) {\n    if ('popupVisible' in nextProps && nextProps.popupVisible !== state.popupVisible) {\n      return {\n        popupVisible: nextProps.popupVisible\n      };\n    }\n    return null;\n  };\n  Trigger.prototype.componentDidMount = function () {\n    this.componentDidUpdate(this.getMergedProps());\n    this.isDidMount = true;\n    this.unmount = false;\n    this.childrenDom = this.getRootElement();\n    if (this.state.popupVisible) {\n      this.childrenDomSize = getDOMPos(this.childrenDom);\n    }\n  };\n  Trigger.prototype.componentDidUpdate = function (_prevProps) {\n    var prevProps = this.getMergedProps(_prevProps);\n    var currentProps = this.getMergedProps();\n    if (!prevProps.popupVisible && currentProps.popupVisible) {\n      this.update();\n    }\n    var popupVisible = this.state.popupVisible;\n    this.popupOpen = popupVisible;\n    var getDocument = currentProps.getDocument;\n    if (!popupVisible) {\n      this.offClickOutside();\n      this.offContainerResize();\n      this.offWindowResize();\n      this.offScrollListeners();\n      return;\n    }\n    var rect = getDOMPos(this.childrenDom);\n    // children节点的尺寸改变，主要是处理children 存在scale等动画属性，或者移动位置的时候，popup 的位置有问题\n    if (JSON.stringify(rect) !== JSON.stringify(this.childrenDomSize)) {\n      this.updatePopupPosition();\n      this.childrenDomSize = rect;\n    }\n    // popupVisible为true\n    this.onContainerResize();\n    if (currentProps.updateOnScroll || currentProps.containerScrollToClose) {\n      this.onContainersScroll();\n    }\n    if (!this.handleWindowResize) {\n      on(window, 'resize', this.handleUpdatePosition);\n      this.handleWindowResize = true;\n    }\n    if (!this.handleClickOutside) {\n      var root = isFunction(getDocument) && getDocument();\n      if (root) {\n        // clickOutside 必须监听mousedown。\n        // 1. 如果事件目标元素在click后被移除，document.onclick被触发时已经没有该元素，会错误触发clickOutside逻辑，隐藏popup。\n        // 2. 点击label标签，会触发对应input元素的点击事件，导致触发clickOutside，隐藏popup。\n        on(root, 'mousedown', this.onClickOutside);\n        this.handleClickOutside = true;\n      }\n    }\n  };\n  Trigger.prototype.componentWillUnmount = function () {\n    this.unmount = true;\n    this.offClickOutside();\n    this.clearTimer();\n    this.offWindowResize();\n    this.offScrollListeners();\n    this.offContainerResize();\n    caf(this.rafId);\n  };\n  Trigger.prototype.clearDelayTimer = function () {\n    if (this.delayTimer) {\n      clearTimeout(this.delayTimer);\n      this.delayTimer = null;\n    }\n  };\n  Trigger.prototype.render = function () {\n    var _a, _b, _c;\n    var _this = this;\n    var _d;\n    var _e = this.getMergedProps(),\n      children = _e.children,\n      style = _e.style,\n      className = _e.className,\n      arrowProps = _e.arrowProps,\n      disabled = _e.disabled,\n      popup = _e.popup,\n      classNames = _e.classNames,\n      duration = _e.duration,\n      unmountOnExit = _e.unmountOnExit,\n      alignPoint = _e.alignPoint,\n      autoAlignPopupWidth = _e.autoAlignPopupWidth,\n      position = _e.position,\n      childrenPrefix = _e.childrenPrefix,\n      showArrow = _e.showArrow,\n      dropdownPopupStyle = _e.popupStyle;\n    var isExistChildren = children || children === 0;\n    var _f = this.context,\n      getPrefixCls = _f.getPrefixCls,\n      zIndex = _f.zIndex,\n      rtl = _f.rtl;\n    var _g = this.state,\n      popupVisible = _g.popupVisible,\n      popupStyle = _g.popupStyle;\n    if (!popup) {\n      return null;\n    }\n    var mergeProps = {};\n    var popupEventProps = {\n      onMouseDown: this.onPopupMouseDown\n    };\n    if (this.isHoverTrigger() && !disabled) {\n      mergeProps.onMouseEnter = this.onMouseEnter;\n      mergeProps.onMouseLeave = this.onMouseLeave;\n      if (alignPoint) {\n        mergeProps.onMouseMove = this.onMouseMove;\n      }\n      if (!this.isPopupHoverHide()) {\n        popupEventProps.onMouseEnter = this.onPopupMouseEnter;\n        popupEventProps.onMouseLeave = this.onPopupMouseLeave;\n      }\n    } else {\n      mergeProps.onMouseEnter = this.triggerOriginEvent('onMouseEnter');\n      mergeProps.onMouseLeave = this.triggerOriginEvent('onMouseLeave');\n    }\n    if (this.isContextMenuTrigger() && !disabled) {\n      mergeProps.onContextMenu = this.onContextMenu;\n      mergeProps.onClick = this.hideContextMenu;\n    } else {\n      mergeProps.onContextMenu = this.triggerOriginEvent('onContextMenu');\n    }\n    if (this.isClickTrigger() && !disabled) {\n      mergeProps.onClick = this.onClick;\n    } else {\n      mergeProps.onClick = mergeProps.onClick || this.triggerOriginEvent('onClick');\n    }\n    if (this.isFocusTrigger() && !disabled) {\n      mergeProps.onFocus = this.onFocus;\n      if (this.isBlurToHide()) {\n        mergeProps.onBlur = this.onBlur;\n      }\n    } else {\n      mergeProps.onFocus = this.triggerOriginEvent('onFocus');\n      mergeProps.onBlur = this.triggerOriginEvent('onBlur');\n    }\n    if (!disabled) {\n      mergeProps.onKeyDown = this.onKeyDown;\n    } else {\n      mergeProps.onKeyDown = this.triggerOriginEvent('onKeyDown');\n    }\n    var child = this.getChild();\n    var popupChildren = React.Children.only(popup());\n    if (child.props.className) {\n      mergeProps.className = child.props.className;\n    }\n    if (childrenPrefix && popupVisible) {\n      mergeProps.className = mergeProps.className ? mergeProps.className + \" \" + childrenPrefix + \"-open\" : childrenPrefix + \"-open\";\n    }\n    // 只有在focus触发时，设置tabIndex，点击tab键，能触发focus事件，展示弹出框\n    if (this.isFocusTrigger()) {\n      mergeProps.tabIndex = disabled ? -1 : 0;\n    }\n    var prefixCls = getPrefixCls('trigger');\n    var popupClassName = cs(prefixCls, childrenPrefix, prefixCls + \"-position-\" + position, (_a = {}, _a[prefixCls + \"-rtl\"] = rtl, _a), className);\n    var childrenComponent = isExistChildren && React.createElement(ResizeObserver, {\n      onResize: this.onResize\n    }, React.cloneElement(child, __assign({}, mergeProps)));\n    var portalContent = React.createElement(CSSTransition, {\n      in: !!popupVisible,\n      timeout: duration,\n      classNames: classNames,\n      unmountOnExit: unmountOnExit,\n      appear: true,\n      mountOnEnter: true,\n      onEnter: function (e) {\n        e.style.display = 'initial';\n        e.style.pointerEvents = 'none';\n        if (classNames === 'slideDynamicOrigin') {\n          // 下拉菜单\n          e.style.transform = _this.getTransformTranslate();\n        }\n      },\n      onEntering: function (e) {\n        if (classNames === 'slideDynamicOrigin') {\n          // 下拉菜单\n          e.style.transform = '';\n        }\n      },\n      onEntered: function (e) {\n        e.style.pointerEvents = 'auto';\n        _this.forceUpdate();\n      },\n      onExit: function (e) {\n        // 避免消失动画时对元素的快速点击触发意外的操作\n        e.style.pointerEvents = 'none';\n      },\n      onExited: function (e) {\n        e.style.display = 'none';\n        // 这里立即设置为null是为了在setState popupStyle引起重新渲染时，能触发 Portal的卸载事件。移除父节点。\n        // 否则只有在下个循环中 triggerRef 才会变为null，需要重新forceUpdate，才能触发Portal的unmount。\n        if (unmountOnExit) {\n          _this.triggerRef = null;\n        }\n        _this.setState({\n          popupStyle: {}\n        });\n      }\n    }, React.createElement(ResizeObserver, {\n      onResize: this.onResize\n    }, React.createElement(\"span\", __assign({\n      ref: function (node) {\n        return _this.triggerRef = node;\n      },\n      \"trigger-placement\": this.realPosition,\n      style: __assign(__assign(__assign({\n        width: autoAlignPopupWidth && (style === null || style === void 0 ? void 0 : style.width) === undefined ? (_d = this.childrenDomSize) === null || _d === void 0 ? void 0 : _d.width : ''\n      }, popupStyle), {\n        position: 'absolute',\n        zIndex: zIndex || ''\n      }), style)\n    }, popupEventProps, {\n      className: popupClassName\n    }, pickDataAttributes(this.props)), React.createElement(popupChildren.type, __assign({\n      ref: popupChildren.ref\n    }, popupChildren.props, {\n      style: __assign(__assign({}, popupChildren.props.style), dropdownPopupStyle)\n    })), (showArrow || arrowProps) && React.createElement(\"div\", {\n      className: cs(prefixCls + \"-arrow-container\", (_b = {}, _b[childrenPrefix + \"-arrow-container\"] = childrenPrefix, _b))\n    }, React.createElement(\"div\", __assign({}, arrowProps, {\n      className: cs(prefixCls + \"-arrow\", (_c = {}, _c[childrenPrefix + \"-arrow\"] = childrenPrefix, _c), arrowProps === null || arrowProps === void 0 ? void 0 : arrowProps.className),\n      style: __assign(__assign({}, this.arrowStyle), arrowProps === null || arrowProps === void 0 ? void 0 : arrowProps.style)\n    }))))));\n    // 如果 triggerRef 不存在，说明弹出层内容被销毁，可以隐藏portal。\n    var portal = popupVisible || this.triggerRef ? React.createElement(Portal, {\n      getContainer: this.getContainer\n    }, portalContent) : null;\n    return isExistChildren ? React.createElement(React.Fragment, null, childrenComponent, portal) : portal;\n  };\n  Trigger.displayName = 'Trigger';\n  Trigger.contextType = ConfigContext;\n  return Trigger;\n}(PureComponent);\nexport default Trigger;","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","__assign","assign","t","s","i","n","arguments","length","apply","React","PureComponent","findDOMNode","CSSTransition","ResizeObserverPolyfill","on","off","contains","getScrollElements","isFunction","pickDataAttributes","Esc","Portal","ResizeObserver","cs","ConfigContext","getStyle","throttleByRaf","raf","caf","mergeProps","getDOMPos","dom","_a","getBoundingClientRect","width","height","left","right","EventsByTriggerNeed","splitChildrenStyle","obj","keys","picked","omitted","forEach","key","defaultProps","blurToHide","clickToClose","classNames","trigger","position","duration","unmountOnExit","popupAlign","popupHoverStay","clickOutsideToClose","escToClose","mouseLeaveToClose","containerScrollToClose","getDocument","window","document","autoFixPosition","mouseEnterDelay","mouseLeaveDelay","autoFitPosition","Trigger","_super","props","context","_this","delayTimer","updatePositionTimer","popupOpen","mousedownToHide","hasPopupMouseDown","unmount","isDidMount","mouseLocation","clientX","clientY","observerContainer","scrollElements","resizeObserver","handleUpdatePosition","childrenDom","childrenDomSize","getMergedProps","baseProps","componentConfig","getRootElement","offScrollListeners","item","handleScroll","offWindowResize","handleWindowResize","offContainerResize","unobserve","currentProps","setPopupVisible","updateOnScroll","onContainersScroll","popupContainer","parentNode","onContainerResize","containerParent","observe","updatePopupPosition","isClickTrigger","concat","indexOf","isFocusTrigger","isHoverTrigger","isContextMenuTrigger","isMouseLeaveToClose","isPopupHoverHide","isClickToHide","isBlurToHide","clearTimer","cancel","clearTimeout","mouseDownTimeout","offClickOutside","handleClickOutside","root","onClickOutside","getTransformOrigin","_b","content","triggerRef","_c","showArrow","top","arrowStyle","transformOrigin","tl","tr","clientWidth","bottom","bl","br","lt","lb","clientHeight","rt","rb","origin_1","getTransformTranslate","realPosition","getPopupStyle","mountContainer","child","style","showPopup","callback","popupStyle","setState","update","state","popupVisible","delay","currentVisible","setTimeout","visible","mergedProps","onVisibleChange","delayToDo","clearDelayTimer","e","triggerNode","target","onKeyDown","keyCode","which","triggerPropsEvent","code","onPressEsc","onMouseEnter","onMouseMove","setMouseLocation","onMouseLeave","onPopupMouseEnter","onPopupMouseLeave","alignPoint","onContextMenu","preventDefault","hideContextMenu","onClick","onFocus","focusDelay","onBlur","onResize","onPopupMouseDown","getChild","children","element","elementType","type","Children","count","createElement","__BYTE_BUTTON","__BYTE_CHECKBOX","__BYTE_SWITCH","__BYTE_RADIO","disabled","className","display","cursor","cloneElement","pointerEvents","undefined","appendToContainer","node","rafId","getGlobalPopupContainer","getPopupContainer","gpc","rootElement","parent_1","appendChild","getContainer","eventName","childHandler","triggerOriginEvent","propsHandler","defaultPopupVisible","getDerivedStateFromProps","nextProps","componentDidMount","componentDidUpdate","_prevProps","prevProps","rect","JSON","stringify","componentWillUnmount","render","_d","_e","arrowProps","popup","autoAlignPopupWidth","childrenPrefix","dropdownPopupStyle","isExistChildren","_f","getPrefixCls","zIndex","rtl","_g","popupEventProps","onMouseDown","popupChildren","only","tabIndex","prefixCls","popupClassName","childrenComponent","portalContent","in","timeout","appear","mountOnEnter","onEnter","transform","onEntering","onEntered","forceUpdate","onExit","onExited","ref","portal","Fragment","displayName","contextType"],"sources":["/Users/acetyl/Desktop/CS411Project/CS411/frontend/node_modules/@arco-design/web-react/es/Trigger/index.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { PureComponent } from 'react';\nimport { findDOMNode } from 'react-dom';\nimport { CSSTransition } from 'react-transition-group';\nimport ResizeObserverPolyfill from 'resize-observer-polyfill';\nimport { on, off, contains, getScrollElements } from '../_util/dom';\nimport { isFunction } from '../_util/is';\nimport { pickDataAttributes } from '../_util/pick';\nimport { Esc } from '../_util/keycode';\nimport Portal from './portal';\nimport ResizeObserver from '../_util/resizeObserver';\nimport cs from '../_util/classNames';\nimport { ConfigContext } from '../ConfigProvider';\nimport getStyle from './getPopupStyle';\nimport throttleByRaf from '../_util/throttleByRaf';\nimport { raf, caf } from '../_util/raf';\nimport mergeProps from '../_util/mergeProps';\nfunction getDOMPos(dom) {\n    if (!dom) {\n        return {};\n    }\n    var _a = dom.getBoundingClientRect(), width = _a.width, height = _a.height, left = _a.left, right = _a.right;\n    return {\n        width: width,\n        height: height,\n        left: left,\n        right: right,\n    };\n}\nexport var EventsByTriggerNeed = [\n    'onClick',\n    'onMouseEnter',\n    'onMouseLeave',\n    'onMouseMove',\n    'onFocus',\n    'onBlur',\n    'onContextMenu',\n    'onKeyDown',\n];\nfunction splitChildrenStyle(obj, keys) {\n    var picked = {};\n    var omitted = __assign({}, obj);\n    keys.forEach(function (key) {\n        if (obj && key in obj) {\n            picked[key] = obj[key];\n            delete omitted[key];\n        }\n    });\n    return { picked: picked, omitted: omitted };\n}\nvar defaultProps = {\n    blurToHide: true,\n    clickToClose: true,\n    classNames: 'fadeIn',\n    trigger: 'hover',\n    position: 'bottom',\n    duration: 200,\n    unmountOnExit: true,\n    popupAlign: {},\n    popupHoverStay: true,\n    clickOutsideToClose: true,\n    escToClose: false,\n    mouseLeaveToClose: true,\n    containerScrollToClose: false,\n    getDocument: function () { return window.document; },\n    autoFixPosition: true,\n    mouseEnterDelay: 100,\n    mouseLeaveDelay: 100,\n    autoFitPosition: true,\n};\nvar Trigger = /** @class */ (function (_super) {\n    __extends(Trigger, _super);\n    function Trigger(props, context) {\n        var _this = _super.call(this, props, context) || this;\n        _this.delayTimer = null;\n        _this.updatePositionTimer = null;\n        // is popup open?\n        _this.popupOpen = false;\n        // if mousedown to hide popup, ignore onFocus\n        _this.mousedownToHide = false;\n        _this.hasPopupMouseDown = false;\n        _this.unmount = false;\n        _this.isDidMount = false;\n        // 保存鼠标的位置\n        _this.mouseLocation = {\n            clientX: 0,\n            clientY: 0,\n        };\n        // 保存当前的mount container dom元素\n        _this.observerContainer = null;\n        // 保存当前节点到 popupContainer 间的所有滚动元素\n        _this.scrollElements = null;\n        // container 触发 resize时执行\n        _this.resizeObserver = new ResizeObserverPolyfill(function () {\n            _this.handleUpdatePosition();\n        });\n        _this.childrenDom = null;\n        // 保存children节点的尺寸。 主要用于在弹出层动画前和动画完成后比较尺寸是否有变化。\n        _this.childrenDomSize = {};\n        _this.getMergedProps = function (baseProps) {\n            var componentConfig = _this.context.componentConfig;\n            var props = mergeProps(baseProps || _this.props, defaultProps, componentConfig === null || componentConfig === void 0 ? void 0 : componentConfig.Trigger);\n            return props;\n        };\n        _this.getRootElement = function () {\n            _this.childrenDom = findDOMNode(_this);\n            return _this.childrenDom;\n        };\n        _this.offScrollListeners = function () {\n            (_this.scrollElements || []).forEach(function (item) {\n                off(item, 'scroll', _this.handleScroll);\n            });\n            _this.scrollElements = null;\n        };\n        _this.offWindowResize = function () {\n            _this.handleWindowResize = false;\n            off(window, 'resize', _this.handleUpdatePosition);\n        };\n        _this.offContainerResize = function () {\n            if (_this.resizeObserver && _this.observerContainer) {\n                _this.resizeObserver.unobserve(_this.observerContainer);\n                _this.observerContainer = null;\n            }\n        };\n        _this.handleScroll = function () {\n            var currentProps = _this.getMergedProps();\n            if (currentProps.containerScrollToClose) {\n                _this.setPopupVisible(false);\n            }\n            else if (currentProps.updateOnScroll) {\n                _this.handleUpdatePosition();\n            }\n        };\n        _this.onContainersScroll = function () {\n            var _a;\n            if (_this.scrollElements) {\n                return;\n            }\n            _this.scrollElements = getScrollElements(_this.childrenDom, (_a = _this.popupContainer) === null || _a === void 0 ? void 0 : _a.parentNode);\n            _this.scrollElements.forEach(function (item) {\n                on(item, 'scroll', _this.handleScroll);\n            });\n        };\n        _this.onContainerResize = function () {\n            var _a;\n            // containerParent 相当于是通过getPopupContainer传入的节点\n            // 因为 this.popupContainer 会被挂载到getPopupContainer返回的节点上\n            var containerParent = (_a = _this.popupContainer) === null || _a === void 0 ? void 0 : _a.parentNode;\n            if (_this.resizeObserver && _this.observerContainer !== containerParent) {\n                // 说明containerParent变了，取消之前的监听，监听新的container\n                _this.offContainerResize();\n                containerParent && _this.resizeObserver.observe(containerParent);\n                _this.observerContainer = containerParent;\n            }\n        };\n        // getPopupContainer 改变时候触发\n        _this.handleUpdatePosition = throttleByRaf(function () {\n            _this.updatePopupPosition();\n        });\n        _this.isClickTrigger = function () {\n            var trigger = _this.getMergedProps().trigger;\n            return [].concat(trigger).indexOf('click') > -1;\n        };\n        _this.isFocusTrigger = function () {\n            var trigger = _this.getMergedProps().trigger;\n            return [].concat(trigger).indexOf('focus') > -1;\n        };\n        _this.isHoverTrigger = function () {\n            var trigger = _this.getMergedProps().trigger;\n            return [].concat(trigger).indexOf('hover') > -1;\n        };\n        _this.isContextMenuTrigger = function () {\n            var trigger = _this.getMergedProps().trigger;\n            return [].concat(trigger).indexOf('contextMenu') > -1;\n        };\n        // 是否在鼠标移出触发节点和popup的时候隐藏弹出层\n        _this.isMouseLeaveToClose = function () {\n            return _this.isHoverTrigger() && _this.getMergedProps().mouseLeaveToClose;\n        };\n        // 是否在悬浮到popup的时候隐藏弹出层\n        _this.isPopupHoverHide = function () {\n            return _this.isHoverTrigger() && !_this.getMergedProps().popupHoverStay;\n        };\n        _this.isClickToHide = function () {\n            return ((_this.isClickTrigger() || _this.isContextMenuTrigger()) && _this.getMergedProps().clickToClose);\n        };\n        _this.isBlurToHide = function () {\n            return _this.isFocusTrigger() && _this.getMergedProps().blurToHide;\n        };\n        _this.clearTimer = function () {\n            if (_this.updatePositionTimer) {\n                if (_this.updatePositionTimer.cancel) {\n                    _this.updatePositionTimer.cancel();\n                }\n                else {\n                    clearTimeout(_this.updatePositionTimer);\n                    _this.updatePositionTimer = null;\n                }\n            }\n            if (_this.delayTimer) {\n                clearTimeout(_this.delayTimer);\n                _this.delayTimer = null;\n            }\n            if (_this.mouseDownTimeout) {\n                clearTimeout(_this.mouseDownTimeout);\n                _this.mouseDownTimeout = null;\n            }\n        };\n        _this.offClickOutside = function () {\n            if (_this.handleClickOutside) {\n                var getDocument = _this.getMergedProps().getDocument;\n                var root = isFunction(getDocument) && getDocument();\n                off(root, 'mousedown', _this.onClickOutside);\n                _this.handleClickOutside = false;\n            }\n        };\n        _this.getTransformOrigin = function (position) {\n            var _a, _b;\n            var content = _this.triggerRef;\n            if (!content)\n                return {};\n            var _c = _this.getMergedProps(), showArrow = _c.showArrow, classNames = _c.classNames;\n            var top = (showArrow && ((_a = _this.arrowStyle) === null || _a === void 0 ? void 0 : _a.top)) || 0;\n            var left = (showArrow && ((_b = _this.arrowStyle) === null || _b === void 0 ? void 0 : _b.left)) || 0;\n            top = top ? top + \"px\" : '';\n            left = left ? left + \"px\" : '';\n            var transformOrigin = {\n                top: (left || '50%') + \" 100% 0\",\n                tl: (left || '15px') + \" 100% 0\",\n                tr: (left || content.clientWidth - 15 + \"px\") + \" 100% 0\",\n                bottom: (left || '50%') + \" 0 0\",\n                bl: (left || '15px') + \" 0 0\",\n                br: (left || content.clientWidth - 15 + \"px\") + \" 0 0\",\n                left: \"100% \" + (top || '50%') + \" 0\",\n                lt: \"100% \" + (top || '15px') + \" 0\",\n                lb: \"100% \" + (top || content.clientHeight - 15 + \"px\") + \" 0\",\n                right: \"0 \" + (top || '50%') + \" 0\",\n                rt: \"0 \" + (top || '15px') + \" 0\",\n                rb: \"0 \" + (top || content.clientHeight - 15 + \"px\") + \" 0\",\n            };\n            // tooltip popover popconfirm\n            if (classNames && classNames.indexOf('zoom') > -1) {\n                return {\n                    transformOrigin: transformOrigin[position],\n                };\n            }\n            if (classNames === 'slideDynamicOrigin') {\n                var origin_1 = '0% 0%';\n                if (['top', 'tl', 'tr'].indexOf(position) > -1) {\n                    origin_1 = '100% 100%';\n                }\n                return {\n                    transformOrigin: origin_1,\n                };\n            }\n            return {};\n        };\n        // 下拉框存在初始translateY/translateX，需要根据真实的弹出位置确定\n        _this.getTransformTranslate = function () {\n            if (_this.getMergedProps().classNames !== 'slideDynamicOrigin') {\n                return '';\n            }\n            switch (_this.realPosition) {\n                case 'bottom':\n                case 'bl':\n                case 'br':\n                    return 'scaleY(0.9) translateY(-4px)';\n                case 'top':\n                case 'tl':\n                case 'tr':\n                    return 'scaleY(0.9) translateY(4px)';\n                default:\n                    return '';\n            }\n        };\n        _this.getPopupStyle = function () {\n            if (_this.unmount || !_this.popupContainer) {\n                return;\n            }\n            var mountContainer = _this.popupContainer;\n            var content = _this.triggerRef;\n            var child = _this.getRootElement();\n            var _a = getStyle(_this.getMergedProps(), content, child, mountContainer, _this.mouseLocation), style = _a.style, arrowStyle = _a.arrowStyle, realPosition = _a.realPosition;\n            _this.realPosition = realPosition || _this.getMergedProps().position;\n            _this.arrowStyle = arrowStyle || {};\n            return __assign(__assign({}, style), _this.getTransformOrigin(_this.realPosition));\n        };\n        _this.showPopup = function (callback) {\n            if (callback === void 0) { callback = function () { }; }\n            var popupStyle = _this.getPopupStyle();\n            _this.setState({\n                popupStyle: popupStyle,\n            }, callback);\n        };\n        _this.update = throttleByRaf(function (callback) {\n            if (_this.unmount || !_this.state.popupVisible) {\n                return;\n            }\n            var popupStyle = _this.getPopupStyle();\n            _this.setState({\n                popupStyle: popupStyle,\n            }, function () {\n                callback && callback();\n            });\n        });\n        _this.updatePopupPosition = function (delay, callback) {\n            if (delay === void 0) { delay = 0; }\n            var currentVisible = _this.state.popupVisible;\n            if (!currentVisible) {\n                return;\n            }\n            if (delay < 4) {\n                _this.updatePositionTimer = _this.update(callback);\n                return;\n            }\n            _this.updatePositionTimer = setTimeout(function () {\n                var popupStyle = _this.getPopupStyle();\n                _this.setState({\n                    popupStyle: popupStyle,\n                }, function () {\n                    callback && callback();\n                });\n            }, delay);\n        };\n        _this.setPopupVisible = function (visible, delay, callback) {\n            if (delay === void 0) { delay = 0; }\n            var mergedProps = _this.getMergedProps();\n            var onVisibleChange = mergedProps.onVisibleChange;\n            var currentVisible = _this.state.popupVisible;\n            if (visible !== currentVisible) {\n                _this.delayToDo(delay, function () {\n                    onVisibleChange && onVisibleChange(visible);\n                    if (!('popupVisible' in mergedProps)) {\n                        if (visible) {\n                            _this.setState({\n                                popupVisible: true,\n                            }, function () {\n                                _this.showPopup(callback);\n                            });\n                        }\n                        else {\n                            _this.setState({\n                                popupVisible: false,\n                            }, function () {\n                                callback && callback();\n                            });\n                        }\n                    }\n                    else {\n                        callback && callback();\n                    }\n                });\n            }\n            else {\n                callback && callback();\n            }\n        };\n        _this.delayToDo = function (delay, callback) {\n            if (delay) {\n                _this.clearDelayTimer();\n                _this.delayTimer = setTimeout(function () {\n                    callback();\n                    _this.clearDelayTimer();\n                }, delay);\n            }\n            else {\n                callback();\n            }\n        };\n        // 点击非popup内部，非children内部的节点，触发clickoutside 逻辑\n        _this.onClickOutside = function (e) {\n            var _a = _this.getMergedProps(), onClickOutside = _a.onClickOutside, clickOutsideToClose = _a.clickOutsideToClose;\n            var triggerNode = _this.triggerRef;\n            var childrenDom = _this.getRootElement();\n            if (!contains(triggerNode, e.target) &&\n                !contains(childrenDom, e.target) &&\n                !_this.hasPopupMouseDown) {\n                onClickOutside && onClickOutside();\n                if (clickOutsideToClose) {\n                    // 以下判断条件避免onVisibleChange触发两次\n                    // blurToHide 为true时不需要执行，因为onBlur里会执行setPopupVisible\n                    // hover 触发方式，不执行以下逻辑。因为mouseLeave里会执行setPopupVisible\n                    if (!_this.isBlurToHide() && !_this.isHoverTrigger()) {\n                        _this.setPopupVisible(false);\n                    }\n                }\n            }\n        };\n        _this.onKeyDown = function (e) {\n            var keyCode = e.keyCode || e.which;\n            _this.triggerPropsEvent('onKeyDown', e);\n            if (keyCode === Esc.code) {\n                _this.onPressEsc(e);\n            }\n        };\n        _this.onPressEsc = function (e) {\n            var escToClose = _this.getMergedProps().escToClose;\n            if (escToClose && e && e.key === Esc.key && _this.state.popupVisible) {\n                _this.setPopupVisible(false);\n            }\n        };\n        _this.onMouseEnter = function (e) {\n            var mouseEnterDelay = _this.getMergedProps().mouseEnterDelay;\n            _this.triggerPropsEvent('onMouseEnter', e);\n            _this.clearDelayTimer();\n            _this.setPopupVisible(true, mouseEnterDelay || 0);\n        };\n        _this.onMouseMove = function (e) {\n            _this.triggerPropsEvent('onMouseMove', e);\n            _this.setMouseLocation(e);\n            if (_this.state.popupVisible) {\n                _this.update();\n            }\n        };\n        _this.onMouseLeave = function (e) {\n            var mouseLeaveDelay = _this.getMergedProps().mouseLeaveDelay;\n            _this.clearDelayTimer();\n            _this.triggerPropsEvent('onMouseLeave', e);\n            if (_this.isMouseLeaveToClose()) {\n                if (_this.state.popupVisible) {\n                    _this.setPopupVisible(false, mouseLeaveDelay || 0);\n                }\n            }\n        };\n        _this.onPopupMouseEnter = function () {\n            _this.clearDelayTimer();\n        };\n        _this.onPopupMouseLeave = function (e) {\n            _this.onMouseLeave(e);\n        };\n        _this.setMouseLocation = function (e) {\n            if (_this.getMergedProps().alignPoint) {\n                _this.mouseLocation = {\n                    clientX: e.clientX,\n                    clientY: e.clientY,\n                };\n            }\n        };\n        _this.onContextMenu = function (e) {\n            e.preventDefault();\n            _this.triggerPropsEvent('onContextMenu', e);\n            _this.setMouseLocation(e);\n            if (!_this.state.popupVisible) {\n                _this.setPopupVisible(true, 0);\n            }\n            else {\n                // 更新位置\n                _this.getMergedProps().alignPoint && _this.update();\n            }\n        };\n        _this.hideContextMenu = function (e) {\n            var popupVisible = _this.state.popupVisible;\n            if (popupVisible) {\n                _this.mousedownToHide = true;\n            }\n            _this.triggerPropsEvent('onClick', e);\n            if (_this.isClickToHide() && popupVisible) {\n                _this.setPopupVisible(!popupVisible, 0);\n            }\n        };\n        _this.onClick = function (e) {\n            var popupVisible = _this.state.popupVisible;\n            if (popupVisible) {\n                _this.mousedownToHide = true;\n            }\n            _this.triggerPropsEvent('onClick', e);\n            _this.setMouseLocation(e);\n            if (!_this.isClickToHide() && popupVisible) {\n                return;\n            }\n            _this.setPopupVisible(!popupVisible, 0);\n        };\n        _this.onFocus = function (e) {\n            var focusDelay = _this.getMergedProps().focusDelay;\n            var onFocus = function () {\n                _this.triggerPropsEvent('onFocus', e);\n            };\n            _this.clearDelayTimer();\n            if (!_this.mousedownToHide) {\n                if (_this.state.popupVisible) {\n                    onFocus && onFocus();\n                }\n                else {\n                    _this.setPopupVisible(true, focusDelay || 0, onFocus);\n                }\n            }\n            _this.mousedownToHide = false;\n        };\n        _this.onBlur = function (e) {\n            _this.setPopupVisible(false, 200, function () { return _this.triggerPropsEvent('onBlur', e); });\n        };\n        _this.onResize = function () {\n            if (_this.getMergedProps().autoFixPosition && _this.state.popupVisible) {\n                _this.updatePopupPosition();\n            }\n        };\n        _this.onPopupMouseDown = function () {\n            _this.hasPopupMouseDown = true;\n            clearTimeout(_this.mouseDownTimeout);\n            _this.mouseDownTimeout = setTimeout(function () {\n                _this.hasPopupMouseDown = false;\n            }, 0);\n        };\n        // 当 children 中的元素 disabled 时，不能正确触发 hover 等事件，所以当监测到对应\n        // 组件有 disabled 时，给元素加一层 span，处理事件，模拟样式\n        _this.getChild = function () {\n            var children = _this.props.children;\n            var element = children;\n            var elementType = (element && typeof element !== 'string' && element.type);\n            var child = children;\n            if (['string', 'number'].indexOf(typeof children) > -1 || React.Children.count(children) > 1) {\n                child = React.createElement(\"span\", null, children);\n            }\n            else if (element &&\n                elementType &&\n                (elementType.__BYTE_BUTTON === true ||\n                    elementType.__BYTE_CHECKBOX === true ||\n                    elementType.__BYTE_SWITCH === true ||\n                    elementType.__BYTE_RADIO === true ||\n                    elementType === 'button') &&\n                element.props.disabled) {\n                // 从样式中提取出会影响布局的到上层 span 样式中。\n                var _a = splitChildrenStyle(element.props.style, [\n                    'position',\n                    'left',\n                    'right',\n                    'top',\n                    'bottom',\n                    'float',\n                    'display',\n                    'zIndex',\n                ]), picked = _a.picked, omitted = _a.omitted;\n                child = (React.createElement(\"span\", { className: element.props.className, style: __assign(__assign({ display: 'inline-block' }, picked), { cursor: 'not-allowed' }) }, React.cloneElement(element, {\n                    style: __assign(__assign({}, omitted), { pointerEvents: 'none' }),\n                    className: undefined,\n                })));\n            }\n            // 防止为空报错\n            return child || React.createElement(\"span\", null);\n        };\n        // 创建的dom节点插入getPopupContainer。\n        _this.appendToContainer = function (node) {\n            caf(_this.rafId);\n            if (_this.isDidMount) {\n                var getGlobalPopupContainer = _this.context.getPopupContainer;\n                var getPopupContainer = _this.getMergedProps().getPopupContainer;\n                var gpc = getPopupContainer || getGlobalPopupContainer;\n                var rootElement = _this.getRootElement();\n                var parent_1 = gpc(rootElement);\n                if (parent_1) {\n                    parent_1.appendChild(node);\n                    return;\n                }\n            }\n            _this.rafId = raf(function () {\n                _this.appendToContainer(node);\n            });\n        };\n        _this.getContainer = function () {\n            var popupContainer = document.createElement('div');\n            popupContainer.style.width = '100%';\n            popupContainer.style.position = 'absolute';\n            popupContainer.style.top = '0';\n            popupContainer.style.left = '0';\n            _this.popupContainer = popupContainer;\n            _this.appendToContainer(popupContainer);\n            return popupContainer;\n        };\n        // 1. 触发直接附加到 Trigger 上的事件，大多是Trigger直接嵌套Trigger的情况\n        // 2. 触发children上直接被附加的事件\n        _this.triggerPropsEvent = function (eventName, e) {\n            var child = _this.getChild();\n            var childHandler = child && child.props && child.props[eventName];\n            var props = _this.getMergedProps();\n            if (isFunction(childHandler)) {\n                childHandler(e);\n            }\n            if (isFunction(props[eventName])) {\n                props[eventName](e);\n            }\n        };\n        // 触发 children/ trigger 组件上被附加的事件\n        _this.triggerOriginEvent = function (eventName) {\n            var child = _this.getChild();\n            var childHandler = child && child.props && child.props[eventName];\n            var propsHandler = _this.getMergedProps()[eventName];\n            if (isFunction(propsHandler) && isFunction(childHandler)) {\n                return function (e) {\n                    childHandler(e);\n                    propsHandler(e);\n                };\n            }\n            return childHandler || propsHandler;\n        };\n        var mergedProps = _this.getMergedProps(props);\n        var popupVisible = 'popupVisible' in mergedProps ? mergedProps.popupVisible : mergedProps.defaultPopupVisible;\n        _this.popupOpen = !!popupVisible;\n        _this.state = {\n            popupVisible: !!popupVisible,\n            popupStyle: {},\n        };\n        return _this;\n    }\n    Trigger.getDerivedStateFromProps = function (nextProps, state) {\n        if ('popupVisible' in nextProps && nextProps.popupVisible !== state.popupVisible) {\n            return {\n                popupVisible: nextProps.popupVisible,\n            };\n        }\n        return null;\n    };\n    Trigger.prototype.componentDidMount = function () {\n        this.componentDidUpdate(this.getMergedProps());\n        this.isDidMount = true;\n        this.unmount = false;\n        this.childrenDom = this.getRootElement();\n        if (this.state.popupVisible) {\n            this.childrenDomSize = getDOMPos(this.childrenDom);\n        }\n    };\n    Trigger.prototype.componentDidUpdate = function (_prevProps) {\n        var prevProps = this.getMergedProps(_prevProps);\n        var currentProps = this.getMergedProps();\n        if (!prevProps.popupVisible && currentProps.popupVisible) {\n            this.update();\n        }\n        var popupVisible = this.state.popupVisible;\n        this.popupOpen = popupVisible;\n        var getDocument = currentProps.getDocument;\n        if (!popupVisible) {\n            this.offClickOutside();\n            this.offContainerResize();\n            this.offWindowResize();\n            this.offScrollListeners();\n            return;\n        }\n        var rect = getDOMPos(this.childrenDom);\n        // children节点的尺寸改变，主要是处理children 存在scale等动画属性，或者移动位置的时候，popup 的位置有问题\n        if (JSON.stringify(rect) !== JSON.stringify(this.childrenDomSize)) {\n            this.updatePopupPosition();\n            this.childrenDomSize = rect;\n        }\n        // popupVisible为true\n        this.onContainerResize();\n        if (currentProps.updateOnScroll || currentProps.containerScrollToClose) {\n            this.onContainersScroll();\n        }\n        if (!this.handleWindowResize) {\n            on(window, 'resize', this.handleUpdatePosition);\n            this.handleWindowResize = true;\n        }\n        if (!this.handleClickOutside) {\n            var root = isFunction(getDocument) && getDocument();\n            if (root) {\n                // clickOutside 必须监听mousedown。\n                // 1. 如果事件目标元素在click后被移除，document.onclick被触发时已经没有该元素，会错误触发clickOutside逻辑，隐藏popup。\n                // 2. 点击label标签，会触发对应input元素的点击事件，导致触发clickOutside，隐藏popup。\n                on(root, 'mousedown', this.onClickOutside);\n                this.handleClickOutside = true;\n            }\n        }\n    };\n    Trigger.prototype.componentWillUnmount = function () {\n        this.unmount = true;\n        this.offClickOutside();\n        this.clearTimer();\n        this.offWindowResize();\n        this.offScrollListeners();\n        this.offContainerResize();\n        caf(this.rafId);\n    };\n    Trigger.prototype.clearDelayTimer = function () {\n        if (this.delayTimer) {\n            clearTimeout(this.delayTimer);\n            this.delayTimer = null;\n        }\n    };\n    Trigger.prototype.render = function () {\n        var _a, _b, _c;\n        var _this = this;\n        var _d;\n        var _e = this.getMergedProps(), children = _e.children, style = _e.style, className = _e.className, arrowProps = _e.arrowProps, disabled = _e.disabled, popup = _e.popup, classNames = _e.classNames, duration = _e.duration, unmountOnExit = _e.unmountOnExit, alignPoint = _e.alignPoint, autoAlignPopupWidth = _e.autoAlignPopupWidth, position = _e.position, childrenPrefix = _e.childrenPrefix, showArrow = _e.showArrow, dropdownPopupStyle = _e.popupStyle;\n        var isExistChildren = children || children === 0;\n        var _f = this.context, getPrefixCls = _f.getPrefixCls, zIndex = _f.zIndex, rtl = _f.rtl;\n        var _g = this.state, popupVisible = _g.popupVisible, popupStyle = _g.popupStyle;\n        if (!popup) {\n            return null;\n        }\n        var mergeProps = {};\n        var popupEventProps = {\n            onMouseDown: this.onPopupMouseDown,\n        };\n        if (this.isHoverTrigger() && !disabled) {\n            mergeProps.onMouseEnter = this.onMouseEnter;\n            mergeProps.onMouseLeave = this.onMouseLeave;\n            if (alignPoint) {\n                mergeProps.onMouseMove = this.onMouseMove;\n            }\n            if (!this.isPopupHoverHide()) {\n                popupEventProps.onMouseEnter = this.onPopupMouseEnter;\n                popupEventProps.onMouseLeave = this.onPopupMouseLeave;\n            }\n        }\n        else {\n            mergeProps.onMouseEnter = this.triggerOriginEvent('onMouseEnter');\n            mergeProps.onMouseLeave = this.triggerOriginEvent('onMouseLeave');\n        }\n        if (this.isContextMenuTrigger() && !disabled) {\n            mergeProps.onContextMenu = this.onContextMenu;\n            mergeProps.onClick = this.hideContextMenu;\n        }\n        else {\n            mergeProps.onContextMenu = this.triggerOriginEvent('onContextMenu');\n        }\n        if (this.isClickTrigger() && !disabled) {\n            mergeProps.onClick = this.onClick;\n        }\n        else {\n            mergeProps.onClick = mergeProps.onClick || this.triggerOriginEvent('onClick');\n        }\n        if (this.isFocusTrigger() && !disabled) {\n            mergeProps.onFocus = this.onFocus;\n            if (this.isBlurToHide()) {\n                mergeProps.onBlur = this.onBlur;\n            }\n        }\n        else {\n            mergeProps.onFocus = this.triggerOriginEvent('onFocus');\n            mergeProps.onBlur = this.triggerOriginEvent('onBlur');\n        }\n        if (!disabled) {\n            mergeProps.onKeyDown = this.onKeyDown;\n        }\n        else {\n            mergeProps.onKeyDown = this.triggerOriginEvent('onKeyDown');\n        }\n        var child = this.getChild();\n        var popupChildren = React.Children.only(popup());\n        if (child.props.className) {\n            mergeProps.className = child.props.className;\n        }\n        if (childrenPrefix && popupVisible) {\n            mergeProps.className = mergeProps.className\n                ? mergeProps.className + \" \" + childrenPrefix + \"-open\"\n                : childrenPrefix + \"-open\";\n        }\n        // 只有在focus触发时，设置tabIndex，点击tab键，能触发focus事件，展示弹出框\n        if (this.isFocusTrigger()) {\n            mergeProps.tabIndex = disabled ? -1 : 0;\n        }\n        var prefixCls = getPrefixCls('trigger');\n        var popupClassName = cs(prefixCls, childrenPrefix, prefixCls + \"-position-\" + position, (_a = {}, _a[prefixCls + \"-rtl\"] = rtl, _a), className);\n        var childrenComponent = isExistChildren && (React.createElement(ResizeObserver, { onResize: this.onResize }, React.cloneElement(child, __assign({}, mergeProps))));\n        var portalContent = (React.createElement(CSSTransition, { in: !!popupVisible, timeout: duration, classNames: classNames, unmountOnExit: unmountOnExit, appear: true, mountOnEnter: true, onEnter: function (e) {\n                e.style.display = 'initial';\n                e.style.pointerEvents = 'none';\n                if (classNames === 'slideDynamicOrigin') {\n                    // 下拉菜单\n                    e.style.transform = _this.getTransformTranslate();\n                }\n            }, onEntering: function (e) {\n                if (classNames === 'slideDynamicOrigin') {\n                    // 下拉菜单\n                    e.style.transform = '';\n                }\n            }, onEntered: function (e) {\n                e.style.pointerEvents = 'auto';\n                _this.forceUpdate();\n            }, onExit: function (e) {\n                // 避免消失动画时对元素的快速点击触发意外的操作\n                e.style.pointerEvents = 'none';\n            }, onExited: function (e) {\n                e.style.display = 'none';\n                // 这里立即设置为null是为了在setState popupStyle引起重新渲染时，能触发 Portal的卸载事件。移除父节点。\n                // 否则只有在下个循环中 triggerRef 才会变为null，需要重新forceUpdate，才能触发Portal的unmount。\n                if (unmountOnExit) {\n                    _this.triggerRef = null;\n                }\n                _this.setState({ popupStyle: {} });\n            } },\n            React.createElement(ResizeObserver, { onResize: this.onResize },\n                React.createElement(\"span\", __assign({ ref: function (node) { return (_this.triggerRef = node); }, \"trigger-placement\": this.realPosition, style: __assign(__assign(__assign({ width: autoAlignPopupWidth && (style === null || style === void 0 ? void 0 : style.width) === undefined\n                            ? (_d = this.childrenDomSize) === null || _d === void 0 ? void 0 : _d.width\n                            : '' }, popupStyle), { position: 'absolute', zIndex: zIndex || '' }), style) }, popupEventProps, { className: popupClassName }, pickDataAttributes(this.props)),\n                    React.createElement(popupChildren.type, __assign({ ref: popupChildren.ref }, popupChildren.props, { style: __assign(__assign({}, popupChildren.props.style), dropdownPopupStyle) })),\n                    (showArrow || arrowProps) && (React.createElement(\"div\", { className: cs(prefixCls + \"-arrow-container\", (_b = {},\n                            _b[childrenPrefix + \"-arrow-container\"] = childrenPrefix,\n                            _b)) },\n                        React.createElement(\"div\", __assign({}, arrowProps, { className: cs(prefixCls + \"-arrow\", (_c = {},\n                                _c[childrenPrefix + \"-arrow\"] = childrenPrefix,\n                                _c), arrowProps === null || arrowProps === void 0 ? void 0 : arrowProps.className), style: __assign(__assign({}, this.arrowStyle), arrowProps === null || arrowProps === void 0 ? void 0 : arrowProps.style) }))))))));\n        // 如果 triggerRef 不存在，说明弹出层内容被销毁，可以隐藏portal。\n        var portal = popupVisible || this.triggerRef ? (React.createElement(Portal, { getContainer: this.getContainer }, portalContent)) : null;\n        return isExistChildren ? (React.createElement(React.Fragment, null,\n            childrenComponent,\n            portal)) : (portal);\n    };\n    Trigger.displayName = 'Trigger';\n    Trigger.contextType = ConfigContext;\n    return Trigger;\n}(PureComponent));\nexport default Trigger;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}